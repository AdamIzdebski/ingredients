<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>What-If 2D Plot — what_if_2d • ingredients</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top navbar-mi2" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class = "navbar-mi2logo" href="http://mi2.mini.pw.edu.pl/">
        <img src = "https://github.com/mi2-warsaw/MI2template/blob/master/inst/pkgdown/assets/MI2logo.jpg?raw=true" alt = "MI2" height = 46 title = "MI2">
	  </a>
      <a class="navbar-brand navbar-mi2" href="../index.html">What-If 2D Plot</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-mi2 nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>What-If 2D Plot</h1>
    </div>

    
    <p>This function calculates what if scores for grid of values spanned by two variables.</p>
    

    <pre class="usage"><span class='fu'>what_if_2d</span>(<span class='no'>explainer</span>, <span class='no'>observation</span>, <span class='kw'>grid_points</span> <span class='kw'>=</span> <span class='fl'>101</span>,
  <span class='kw'>selected_variables</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>explainer</th>
      <td><p>a model to be explained, preprocessed by the 'DALEX::explain' function</p></td>
    </tr>
    <tr>
      <th>observation</th>
      <td><p>a new observarvation for which predictions need to be explained</p></td>
    </tr>
    <tr>
      <th>grid_points</th>
      <td><p>number of points used for response path. Will be used for both variables</p></td>
    </tr>
    <tr>
      <th>selected_variables</th>
      <td><p>if specified, then only these variables will be explained</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of the class 'what_if_2d_explainer'.
It's a data frame with calculated average responses.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='st'>"DALEX"</span>)</div><div class='input'><span class='fu'>library</span>(<span class='st'>"randomForest"</span>)
<span class='fu'>set.seed</span>(<span class='fl'>59</span>)

<span class='no'>apartments_rf_model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/randomForest/topics/randomForest'>randomForest</a></span>(<span class='no'>m2.price</span> ~ <span class='no'>construction.year</span> + <span class='no'>surface</span> + <span class='no'>floor</span> +
      <span class='no'>no.rooms</span> + <span class='no'>district</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>apartments</span>)

<span class='no'>explainer_rf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/DALEX/topics/explain'>explain</a></span>(<span class='no'>apartments_rf_model</span>,
      <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>apartmentsTest</span>[,<span class='fl'>2</span>:<span class='fl'>6</span>], <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>apartmentsTest</span>$<span class='no'>m2.price</span>)

<span class='no'>new_apartment</span> <span class='kw'>&lt;-</span> <span class='no'>apartmentsTest</span>[<span class='fl'>1</span>, ]
<span class='no'>new_apartment</span></div><div class='output co'>#&gt;      m2.price construction.year surface floor no.rooms    district
#&gt; 1001     4644              1976     131     3        5 Srodmiescie</div><div class='input'>
<span class='no'>wi_rf_2d</span> <span class='kw'>&lt;-</span> <span class='fu'>what_if_2d</span>(<span class='no'>explainer_rf</span>, <span class='kw'>observation</span> <span class='kw'>=</span> <span class='no'>new_apartment</span>,
         <span class='kw'>selected_variables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"surface"</span>, <span class='st'>"floor"</span>, <span class='st'>"no.rooms"</span>))
<span class='no'>wi_rf_2d</span></div><div class='output co'>#&gt;                y_hat new_x1 new_x2  vname1   vname2        label
#&gt; 1001        4851.829  20.00   1.00 surface    floor randomForest
#&gt; 1001.1      4851.829  20.00   1.09 surface    floor randomForest
#&gt; 1001.2      4851.829  20.00   1.18 surface    floor randomForest
#&gt; 1001.3      4851.829  20.00   1.27 surface    floor randomForest
#&gt; 1001.4      4851.829  20.00   1.36 surface    floor randomForest
#&gt; 1001.5      4851.829  20.00   1.45 surface    floor randomForest
#&gt; 1001.6      4816.305  20.00   1.54 surface    floor randomForest
#&gt; 1001.7      4816.305  20.00   1.63 surface    floor randomForest
#&gt; 1001.8      4816.305  20.00   1.72 surface    floor randomForest
#&gt; 1001.9      4816.305  20.00   1.81 surface    floor randomForest
#&gt; 1001.10     4816.305  20.00   1.90 surface    floor randomForest
#&gt; 1001.11     4816.305  20.00   1.99 surface    floor randomForest
#&gt; 1001.12     4815.847  20.00   2.08 surface    floor randomForest
#&gt; 1001.13     4815.847  20.00   2.17 surface    floor randomForest
#&gt; 1001.14     4815.847  20.00   2.26 surface    floor randomForest
#&gt; 1001.15     4815.847  20.00   2.35 surface    floor randomForest
#&gt; 1001.16     4815.847  20.00   2.44 surface    floor randomForest
#&gt; 1001.17     4768.305  20.00   2.53 surface    floor randomForest
#&gt; 1001.18     4768.305  20.00   2.62 surface    floor randomForest
#&gt; 1001.19     4768.305  20.00   2.71 surface    floor randomForest
#&gt; 1001.20     4768.305  20.00   2.80 surface    floor randomForest
#&gt; 1001.21     4768.305  20.00   2.89 surface    floor randomForest
#&gt; 1001.22     4768.305  20.00   2.98 surface    floor randomForest
#&gt; 1001.23     4767.239  20.00   3.07 surface    floor randomForest
#&gt; 1001.24     4767.239  20.00   3.16 surface    floor randomForest
#&gt; 1001.25     4767.239  20.00   3.25 surface    floor randomForest
#&gt; 1001.26     4767.239  20.00   3.34 surface    floor randomForest
#&gt; 1001.27     4767.239  20.00   3.43 surface    floor randomForest
#&gt; 1001.28     4750.262  20.00   3.52 surface    floor randomForest
#&gt; 1001.29     4750.262  20.00   3.61 surface    floor randomForest
#&gt; 1001.30     4750.262  20.00   3.70 surface    floor randomForest
#&gt; 1001.31     4750.262  20.00   3.79 surface    floor randomForest
#&gt; 1001.32     4750.262  20.00   3.88 surface    floor randomForest
#&gt; 1001.33     4750.262  20.00   3.97 surface    floor randomForest
#&gt; 1001.34     4747.917  20.00   4.06 surface    floor randomForest
#&gt; 1001.35     4747.917  20.00   4.15 surface    floor randomForest
#&gt; 1001.36     4747.917  20.00   4.24 surface    floor randomForest
#&gt; 1001.37     4747.917  20.00   4.33 surface    floor randomForest
#&gt; 1001.38     4747.917  20.00   4.42 surface    floor randomForest
#&gt; 1001.39     4588.151  20.00   4.51 surface    floor randomForest
#&gt; 1001.40     4588.151  20.00   4.60 surface    floor randomForest
#&gt; 1001.41     4588.151  20.00   4.69 surface    floor randomForest
#&gt; 1001.42     4588.151  20.00   4.78 surface    floor randomForest
#&gt; 1001.43     4588.151  20.00   4.87 surface    floor randomForest
#&gt; 1001.44     4588.151  20.00   4.96 surface    floor randomForest
#&gt; 1001.45     4576.133  20.00   5.05 surface    floor randomForest
#&gt; 1001.46     4576.133  20.00   5.14 surface    floor randomForest
#&gt; 1001.47     4576.133  20.00   5.23 surface    floor randomForest
#&gt; 1001.48     4576.133  20.00   5.32 surface    floor randomForest
#&gt; 1001.49     4576.133  20.00   5.41 surface    floor randomForest
#&gt; 1001.50     4576.133  20.00   5.50 surface    floor randomForest
#&gt; 1001.51     4549.698  20.00   5.59 surface    floor randomForest
#&gt; 1001.52     4549.698  20.00   5.68 surface    floor randomForest
#&gt; 1001.53     4549.698  20.00   5.77 surface    floor randomForest
#&gt; 1001.54     4549.698  20.00   5.86 surface    floor randomForest
#&gt; 1001.55     4549.698  20.00   5.95 surface    floor randomForest
#&gt; 1001.56     4546.275  20.00   6.04 surface    floor randomForest
#&gt; 1001.57     4546.275  20.00   6.13 surface    floor randomForest
#&gt; 1001.58     4546.275  20.00   6.22 surface    floor randomForest
#&gt; 1001.59     4546.275  20.00   6.31 surface    floor randomForest
#&gt; 1001.60     4546.275  20.00   6.40 surface    floor randomForest
#&gt; 1001.61     4546.275  20.00   6.49 surface    floor randomForest
#&gt; 1001.62     4461.682  20.00   6.58 surface    floor randomForest
#&gt; 1001.63     4461.682  20.00   6.67 surface    floor randomForest
#&gt; 1001.64     4461.682  20.00   6.76 surface    floor randomForest
#&gt; 1001.65     4461.682  20.00   6.85 surface    floor randomForest
#&gt; 1001.66     4461.682  20.00   6.94 surface    floor randomForest
#&gt; 1001.67     4448.977  20.00   7.03 surface    floor randomForest
#&gt; 1001.68     4448.977  20.00   7.12 surface    floor randomForest
#&gt; 1001.69     4448.977  20.00   7.21 surface    floor randomForest
#&gt; 1001.70     4448.977  20.00   7.30 surface    floor randomForest
#&gt; 1001.71     4448.977  20.00   7.39 surface    floor randomForest
#&gt; 1001.72     4448.977  20.00   7.48 surface    floor randomForest
#&gt; 1001.73     4388.937  20.00   7.57 surface    floor randomForest
#&gt; 1001.74     4388.937  20.00   7.66 surface    floor randomForest
#&gt; 1001.75     4388.937  20.00   7.75 surface    floor randomForest
#&gt; 1001.76     4388.937  20.00   7.84 surface    floor randomForest
#&gt; 1001.77     4388.937  20.00   7.93 surface    floor randomForest
#&gt; 1001.78     4383.974  20.00   8.02 surface    floor randomForest
#&gt; 1001.79     4383.974  20.00   8.11 surface    floor randomForest
#&gt; 1001.80     4383.974  20.00   8.20 surface    floor randomForest
#&gt; 1001.81     4383.974  20.00   8.29 surface    floor randomForest
#&gt; 1001.82     4383.974  20.00   8.38 surface    floor randomForest
#&gt; 1001.83     4383.974  20.00   8.47 surface    floor randomForest
#&gt; 1001.84     4295.281  20.00   8.56 surface    floor randomForest
#&gt; 1001.85     4295.281  20.00   8.65 surface    floor randomForest
#&gt; 1001.86     4295.281  20.00   8.74 surface    floor randomForest
#&gt; 1001.87     4295.281  20.00   8.83 surface    floor randomForest
#&gt; 1001.88     4295.281  20.00   8.92 surface    floor randomForest
#&gt; 1001.89     4292.989  20.00   9.01 surface    floor randomForest
#&gt; 1001.90     4292.989  20.00   9.10 surface    floor randomForest
#&gt; 1001.91     4292.989  20.00   9.19 surface    floor randomForest
#&gt; 1001.92     4292.989  20.00   9.28 surface    floor randomForest
#&gt; 1001.93     4292.989  20.00   9.37 surface    floor randomForest
#&gt; 1001.94     4292.989  20.00   9.46 surface    floor randomForest
#&gt; 1001.95     4261.423  20.00   9.55 surface    floor randomForest
#&gt; 1001.96     4261.423  20.00   9.64 surface    floor randomForest
#&gt; 1001.97     4261.423  20.00   9.73 surface    floor randomForest
#&gt; 1001.98     4261.423  20.00   9.82 surface    floor randomForest
#&gt; 1001.99     4261.423  20.00   9.91 surface    floor randomForest
#&gt; 1001.100    4261.423  20.00  10.00 surface    floor randomForest
#&gt; 1001.101    4851.681  21.30   1.00 surface    floor randomForest
#&gt; 1001.102    4851.681  21.30   1.09 surface    floor randomForest
#&gt; 1001.103    4851.681  21.30   1.18 surface    floor randomForest
#&gt; 1001.104    4851.681  21.30   1.27 surface    floor randomForest
#&gt; 1001.105    4851.681  21.30   1.36 surface    floor randomForest
#&gt; 1001.106    4851.681  21.30   1.45 surface    floor randomForest
#&gt; 1001.107    4814.392  21.30   1.54 surface    floor randomForest
#&gt; 1001.108    4814.392  21.30   1.63 surface    floor randomForest
#&gt; 1001.109    4814.392  21.30   1.72 surface    floor randomForest
#&gt; 1001.110    4814.392  21.30   1.81 surface    floor randomForest
#&gt; 1001.111    4814.392  21.30   1.90 surface    floor randomForest
#&gt; 1001.112    4814.392  21.30   1.99 surface    floor randomForest
#&gt; 1001.113    4813.934  21.30   2.08 surface    floor randomForest
#&gt; 1001.114    4813.934  21.30   2.17 surface    floor randomForest
#&gt; 1001.115    4813.934  21.30   2.26 surface    floor randomForest
#&gt; 1001.116    4813.934  21.30   2.35 surface    floor randomForest
#&gt; 1001.117    4813.934  21.30   2.44 surface    floor randomForest
#&gt; 1001.118    4765.291  21.30   2.53 surface    floor randomForest
#&gt; 1001.119    4765.291  21.30   2.62 surface    floor randomForest
#&gt; 1001.120    4765.291  21.30   2.71 surface    floor randomForest
#&gt; 1001.121    4765.291  21.30   2.80 surface    floor randomForest
#&gt; 1001.122    4765.291  21.30   2.89 surface    floor randomForest
#&gt; 1001.123    4765.291  21.30   2.98 surface    floor randomForest
#&gt; 1001.124    4764.969  21.30   3.07 surface    floor randomForest
#&gt; 1001.125    4764.969  21.30   3.16 surface    floor randomForest
#&gt; 1001.126    4764.969  21.30   3.25 surface    floor randomForest
#&gt; 1001.127    4764.969  21.30   3.34 surface    floor randomForest
#&gt; 1001.128    4764.969  21.30   3.43 surface    floor randomForest
#&gt; 1001.129    4751.759  21.30   3.52 surface    floor randomForest
#&gt; 1001.130    4751.759  21.30   3.61 surface    floor randomForest
#&gt; 1001.131    4751.759  21.30   3.70 surface    floor randomForest
#&gt; 1001.132    4751.759  21.30   3.79 surface    floor randomForest
#&gt; 1001.133    4751.759  21.30   3.88 surface    floor randomForest
#&gt; 1001.134    4751.759  21.30   3.97 surface    floor randomForest
#&gt; 1001.135    4749.414  21.30   4.06 surface    floor randomForest
#&gt; 1001.136    4749.414  21.30   4.15 surface    floor randomForest
#&gt; 1001.137    4749.414  21.30   4.24 surface    floor randomForest
#&gt; 1001.138    4749.414  21.30   4.33 surface    floor randomForest
#&gt; 1001.139    4749.414  21.30   4.42 surface    floor randomForest
#&gt; 1001.140    4590.304  21.30   4.51 surface    floor randomForest
#&gt; 1001.141    4590.304  21.30   4.60 surface    floor randomForest
#&gt; 1001.142    4590.304  21.30   4.69 surface    floor randomForest
#&gt; 1001.143    4590.304  21.30   4.78 surface    floor randomForest
#&gt; 1001.144    4590.304  21.30   4.87 surface    floor randomForest
#&gt; 1001.145    4590.304  21.30   4.96 surface    floor randomForest
#&gt; 1001.146    4578.286  21.30   5.05 surface    floor randomForest
#&gt; 1001.147    4578.286  21.30   5.14 surface    floor randomForest
#&gt; 1001.148    4578.286  21.30   5.23 surface    floor randomForest
#&gt; 1001.149    4578.286  21.30   5.32 surface    floor randomForest
#&gt; 1001.150    4578.286  21.30   5.41 surface    floor randomForest
#&gt; 1001.151    4578.286  21.30   5.50 surface    floor randomForest
#&gt; 1001.152    4548.478  21.30   5.59 surface    floor randomForest
#&gt; 1001.153    4548.478  21.30   5.68 surface    floor randomForest
#&gt; 1001.154    4548.478  21.30   5.77 surface    floor randomForest
#&gt; 1001.155    4548.478  21.30   5.86 surface    floor randomForest
#&gt; 1001.156    4548.478  21.30   5.95 surface    floor randomForest
#&gt; 1001.157    4545.055  21.30   6.04 surface    floor randomForest
#&gt; 1001.158    4545.055  21.30   6.13 surface    floor randomForest
#&gt; 1001.159    4545.055  21.30   6.22 surface    floor randomForest
#&gt; 1001.160    4545.055  21.30   6.31 surface    floor randomForest
#&gt; 1001.161    4545.055  21.30   6.40 surface    floor randomForest
#&gt; 1001.162    4545.055  21.30   6.49 surface    floor randomForest
#&gt; 1001.163    4445.858  21.30   6.58 surface    floor randomForest
#&gt; 1001.164    4445.858  21.30   6.67 surface    floor randomForest
#&gt; 1001.165    4445.858  21.30   6.76 surface    floor randomForest
#&gt;  [ reached getOption("max.print") -- omitted 30437 rows ]</div><div class='input'><span class='fu'>plot</span>(<span class='no'>wi_rf_2d</span>)</div><div class='img'><img src='what_if_2d-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Przemyslaw Biecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

